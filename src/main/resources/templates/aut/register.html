<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Регистрация</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f5f5f5;
      padding-top: 5rem;
    }
    .form-register {
      max-width: 450px;
      padding: 15px;
      margin: 0 auto;
    }
    .form-register .form-floating:focus-within {
      z-index: 2;
    }
  </style>
</head>
<body class="text-center">
<main class="form-register">
  <form th:action="@{'/register/' + ${userType.toLowerCase()}}" method="post" th:object="${registerRequest}">
    <img class="mb-4" src="https://via.placeholder.com/72x72" alt="Лого" width="72" height="72">
    <h1 class="h3 mb-3 fw-normal" th:text="${userType == 'CLIENT' ? 'Регистрация клиента' : 'Регистрация водителя'}"></h1>

    <div class="form-floating mb-3">
      <input type="text" class="form-control" id="name" th:field="*{name}" placeholder="Имя" required>
      <label for="name">Имя</label>
      <div class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
    </div>

    <div class="form-floating mb-3">
      <input type="email" class="form-control" id="email" th:field="*{email}" placeholder="Email" required>
      <label for="email">Email</label>
      <div class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
    </div>

    <div class="form-floating mb-3">
      <input type="password" class="form-control" id="password" th:field="*{password}" placeholder="Пароль" required>
      <label for="password">Пароль</label>
      <div class="text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
    </div>

    <div class="form-floating mb-3">
      <input type="number" class="form-control" id="age" th:field="*{age}" placeholder="Возраст" required min="18" max="100">
      <label for="age">Возраст</label>
      <div class="text-danger" th:if="${#fields.hasErrors('age')}" th:errors="*{age}"></div>
    </div>

    <button class="w-100 btn btn-lg btn-primary" type="submit">Зарегистрироваться</button>

    <div class="mt-3">
      <a th:href="@{/login}" class="btn btn-outline-secondary">Вернуться на страницу входа</a>
    </div>

    <p class="mt-5 mb-3 text-muted">&copy; Taxi Service 2025</p>
  </form>
</main>
</body>
</html>